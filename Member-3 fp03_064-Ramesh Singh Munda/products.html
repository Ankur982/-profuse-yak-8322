<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Style -->
    <link rel="stylesheet" href="./styles/style.css">

    <link rel="stylesheet" href="./styles/products.css">

    <!-- Font family -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300&display=swap" rel="stylesheet">

    <!-- navbar -->
    <link rel="stylesheet" href="./styles/navbar.css">
    <!-- footer -->
    <link rel="stylesheet" href="./styles/footer.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
    <!-- navbar -->
    <div id="navbar">

    </div>

    <!-- container -->
    <div id="container">
        <div id="filter-section">
            <h4>Filter</h4>
            <div id="filter">

            </div>
        </div>
        <div id="">
            
            <div>
                <h2 id="value"></h2>
                <div id="sorting-section">
                
                    <button id="sort-lth">Price: Low to High</button>
                    <button id="sort-htl">Price: High to Low</button>
                </div>
            </div>
            <!-- <div id="sorting-section">
                
                <button id="sort-lth">Price: Low to High</button>
                <button id="sort-htl">Price: High to Low</button>
            </div> -->
            <div id="product-section">
            
            </div>
        </div>
    </div>

    <!-- footer -->
    <div id="footer">

    </div>
</body>
</html>
<!-- Script -->
<script src="./scripts/products.js" type="module"></script>

<script src="./scripts/filter.js"></script>

<!--  -->
<script type="module">
    import navbar from "./components/navbar.js";
    // console.log(navbar());
    document.getElementById("navbar").innerHTML= navbar();
    
    document.querySelector("#logo").addEventListener("click",myhome)
    function myhome(){
        window.location.href="./home_page.html"
    }
    document.querySelector("#cart").addEventListener("click",mycart)
    function mycart(){
        window.location.href="./cart.html"
    }
    let Dash = document.querySelector("#current_user");
    Dash.addEventListener("change", dash_Function);
    function dash_Function(){
         if(Dash.value == "Login"){
            window.location.href="login.html"
        }else if(Dash.value == "Register"){
            window.location.href="./registration.html"
        }
        else if(Dash.value == "Wishlist"){
            window.location.href="./my_wishlist.html"
        }else if(Dash.value == "Your Order"){
            window.location.href="./my_order.html"
        }
        else if(Dash.value == "Your Referrals"){
            window.location.href="./my_referrals.html"
        }
    }
    let user = JSON.parse(localStorage.getItem("loginData"));
    let loged_user = user[user.length - 1].name
    if (user.length > 0) {
    //logout
    if (user !== null) {
        document.querySelector("#user_account").innerHTML =
            `<select name="current_user" id="current_user">
   <option id="useless" class="dash_options" value="">${loged_user}</option>
   <option id="useless" class="dash_options" value="My Account">My Account</option>
   <option id="useless" class="dash_options" value="Wishlist">Wishlist</option>
   <option id="useless" class="dash_options" value="Your Order">Your Order</option>
   <option id="useless" class="dash_options" value="Your Referrals">Your Referrals</option>
   <option class="dash_options" value="Sign Out">Sign Out</option>
 </select>`
    }
    let Dash = document.querySelector("#current_user");
    Dash.addEventListener("change", dashFunction);
    function dashFunction() {
        if (Dash.value == "Sign Out") {
            localStorage.removeItem("loginData");
            window.location.reload();
        }
        else if(Dash.value == "My Account"){
            window.location.href="my_account.html"
        }else if(Dash.value == "Wishlist"){
            window.location.href="my_wishlist.html"
        }else if(Dash.value == "Your Order"){
            window.location.href="my_order.html"
        }
        else if(Dash.value == "Your Referrals"){
            window.location.href="my_referrals.html"
        }
    }
}
</script>


<!-- login -->
<script>
    function login(){
        window.location.href="./login.html"
    }
</script>

<!-- footer -->
<script type="module">
    import footer from "./components/footer.js";
    document.getElementById("footer").innerHTML=footer();
</script>

<!-- <script src="./components/navbar.js"></script>
<script src="./components/footer.js"></script> -->